{% extends 'toys/base.html' %}

{% block title %}Your Cart{% endblock %}

{% block content %}
<h2>Your Shopping Cart</h2>

<table>
    <thead>
        <tr>
            <th>Item</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Subtotal</th>
        </tr>
    </thead>
    <tbody>
        {% for cart_item in cart_items %}
        <tr>
            <td>{{ cart_item.item.name }}</td> <!-- Use the 'item' field to get the name of the item -->
            <td>{{ cart_item.quantity }}</td>
            <td>${{ cart_item.price|floatformat:2 }}</td>
            <td>${{ cart_item.subtotal|floatformat:2 }}</td> <!-- Subtotal: price * quantity -->
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">Your cart is empty.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<p><strong>Total Price:</strong> ${{ total_price|floatformat:2 }}</p>

<a href="{% url 'toy_list' %}" class="button">Continue Shopping</a>
<a href="{% url 'checkout' %}" class="button">Proceed to Checkout</a>

{% endblock %}